from django.db import models
from django.contrib.postgres.fields import ArrayField

class Questions(models.Model):
    created_timestamp = models.DateTimeField(auto_now_add=True)
    modified_timestamp = models.DateTimeField(auto_now_add=True)
    deleted = models.BooleanField(default=False)
    question = models.TextField()
    answer_choices = ArrayField(models.CharField(blank=False))
    has_other = models.BooleanField()

    def __str__(self):
        return self.question

class Answer(models.Model):
    created_timestamp = models.DateTimeField(auto_now_add=True)
    question_fk = models.ForeignKey("Questions", on_delete=models.SET_NULL, null=True)
    answer = models.CharField(max_length=255)
    client_id = models.IntegerField()
    deleted = models.BooleanField(default=False)

    def __str__(self):
        return self.answer

class ClientData(models.Model):
    # id field is automatically generated by django, we
    # can create seperate id's for daily visitors, monthly
    # visitors, etc.
    date = models.DateTimeField(auto_now_add=True)
    start_time = models.TimeField(auto_now_add=True)
    completion_time = models.TimeField(auto_now_add=True)

    LANGUAGE_CHOICES = [
        ('ES', 'Spanish'),
        ('ZH', 'Traditional Chinese/Simplified Chinese'),
        ('VI', 'Vietnamese'),
        ('EN', 'English'),
        ('UK', 'Ukrainian'),
        ('RU', 'Russian'),
        ('AR', 'Arabic'),
        ('HT', 'Haitian Creole'),
        ('FA', 'Persian'),
        ('LO', 'Lao'),
    ]
    language = models.CharField(max_length=2, choices=LANGUAGE_CHOICES)

    family_size = models.PositiveIntegerField()

    SNAP_BENEFITS_CHOICES = [
        ('YES', 'Yes'),
        ('NO', 'No'),
    ]
    snap_benefits = models.CharField(max_length=3, choices=SNAP_BENEFITS_CHOICES)

    TRAVEL_BY_CAR_CHOICES = [
        ('YES', 'Yes'),
        ('NO', 'No'),
    ]
    travel_by_car = models.CharField(max_length=3, choices=TRAVEL_BY_CAR_CHOICES)

    zip_code = models.CharField(max_length=5)
    